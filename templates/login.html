{% extends 'header.html' %}
<!-- ^^ This means add this file to the end of the contents of header.html -->
<!-- This is where the title, top buttons, and stylesheet is located -->

<!-- Change title here -->
{% block title %}Formbar Login{% endblock %}

<!-- Extra style declarations here -->
{% block style %}{% endblock %}

<!-- Extra javascript here -->
{% block script %}{% endblock %}

<!-- Main content here -->
{% block main %}

<h1 style="color: blue">Login</h1>
<form action="login" method="post" onsubmit="saveInfo();">
    <h3>Name</h3>
    <input type="text" id="usernameBox" name="username" value="">
    <input type="hidden" id="forwardBox" name="forward">
    <input type="submit" value="Log In">
</form>

<script type="text/javascript">
    const urlParams = new URLSearchParams(window.location.search);
    const forward = urlParams.get('forward');
    if (forward) document.getElementById('forwardBox').value = forward;
    else document.getElementById('forwardBox').value = null;

    function saveInfo() {
      localStorage.setItem("username", document.getElementById("usernameBox").value);
      localStorage.setItem("password", document.getElementById("passwordBox").value);
    }

    //Log in automatically if username & password are stored locally. Users can log out in expert mode.
    if (localStorage.getItem("username") && (localStorage.getItem("password")) {};
</script>

{% endblock %}
